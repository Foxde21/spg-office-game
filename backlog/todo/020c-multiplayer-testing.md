# Multiplayer тестирование и оптимизация (020c)

## Описание
Завершить реализацию мультиплеера: ручное тестирование в браузере, отладка сетевых проблем, оптимизация производительности. Тестировать с двумя и более игроками одновременно.

## Definition of Ready (DOR)
- [x] 020a и 020b завершены
- [x] Код компилируется без ошибок
- [x] Определены критерии приемки

## Definition of Done (DOD)
- [ ] Протестировано подключение двух игроков
- [ ] Проверена синхронизация позиций в реальном времени
- [ ] Проверена смена локации
- [ ] Тестировано отключение (graceful disconnect)
- [ ] Нет консольных ошибок при многопользовательской игре
- [ ] Проверена скорость сети (throttling работает)
- [ ] Документация обновлена

## Критерии приемки
1. Можно подключиться с двух браузеров одновременно
2. Аватары других игроков видны и движутся плавно
3. При смене локации аватары синхронизируются правильно
4. Никнеймы отображаются над аватарами
5. При отключении аватар исчезает для других игроков
6. Нет network lag — интерполяция работает
7. Сервер обрабатывает до 20 игроков без проблем

## Технические заметки

### Как тестировать

1. Запустить сервер: `npm run dev`
2. Открыть первое окно браузера: http://localhost:3000
3. Открыть второе окно браузера: http://localhost:3000 (в другом браузере или инкогнито)
4. Оба игрока будут видны в одной локации
5. Двигать одного игрока и смотреть как другой видит движение

### Возможные проблемы

- **CORS ошибки** — убедитесь что CLIENT_URL в .env совпадает с адресом браузера
- **Аватары не видны** — проверьте console на ошибки, убедитесь что RemotePlayer создается
- **Lag при движении** — интерполяция может быть слишком быстрой/медленной (0.15 в updateView())
- **Timeout** — PLAYER_TIMEOUT = 30000ms, если игрок долго не двигается может disconnect

### Отладка

Консоль сервера будет выводить:
```
Player connected: <socket-id>
Player joined: <name> (<socket-id>). Total: 2
Player moved: <socket-id> -> (x, y)
Player disconnected: <name> (<socket-id>)
```

Консоль браузера (F12) будет выводить:
```
Connected to multiplayer server: <socket-id>
Remote player joined: <name>
Player moved
```

## Оценка
- Story Points: 3
- Приоритет: High (блокирует 021-chat, 030-leaderboard)

## Метки
- `feature`, `gameplay`, `testing`
