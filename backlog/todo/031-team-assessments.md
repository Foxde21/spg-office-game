# –ö–æ–º–∞–Ω–¥–Ω—ã–µ –∞—Å—Å–µ—Å–º–µ–Ω—Ç—ã (–º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä)

## –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –∞—Å—Å–µ—Å–º–µ–Ω—Ç—ã –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–≥—Ä–æ–∫–æ–≤: "–î—É—ç–ª—å –∑–Ω–∞–Ω–∏–π" (1 –Ω–∞ 1) –∏ "–ö–æ–º–∞–Ω–¥–Ω—ã–π –∞—Å—Å–µ—Å–º–µ–Ω—Ç" (2-4 –∏–≥—Ä–æ–∫–∞ —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Ä–µ—à–∞—é—Ç –∑–∞–¥–∞—á–∏). –î—É—ç–ª—å: –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ —Ç–æ—Ç –∂–µ –≤–æ–ø—Ä–æ—Å, –∫—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –±–æ–ª—å—à–µ –æ—á–∫–æ–≤. –ö–æ–º–∞–Ω–¥–Ω—ã–π: –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–≤–æ—é —á–∞—Å—Ç—å, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—â–∏–π.

## Definition of Ready (DOR)
- [x] –ó–∞–¥–∞—á–∞ —á–µ—Ç–∫–æ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∞
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏
- [x] –û—Ü–µ–Ω–µ–Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å (Story Points)
- [x] –ù–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã/–∞—Å—Å–µ—Ç—ã

## Definition of Done (DOD)
- [ ] –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–π–ª–≥–∞–π–¥—É
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –≤—Ä—É—á–Ω—É—é
- [ ] –ù–µ—Ç –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- [ ] –ö–æ–¥ –ø—Ä–æ—à–µ–ª —Ä–µ–≤—å—é (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏
1. –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ –Ω–∞ "–î—É—ç–ª—å –∑–Ω–∞–Ω–∏–π" (—á–µ—Ä–µ–∑ —á–∞—Ç –∏–ª–∏ –∫–ª–∏–∫ –Ω–∞ –∞–≤–∞—Ç–∞—Ä)
2. –û–±–∞ –∏–≥—Ä–æ–∫–∞ –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. –ë—ã—Å—Ç—Ä—ã–π + –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç = –±–æ–ª—å—à–µ –æ—á–∫–æ–≤ (time bonus)
4. 5 —Ä–∞—É–Ω–¥–æ–≤ –∑–∞ –¥—É—ç–ª—å, —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ
5. –ò—Ç–æ–≥–æ–≤—ã–π —ç–∫—Ä–∞–Ω: –∫—Ç–æ –ø–æ–±–µ–¥–∏–ª, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–æ–∏—Ö
6. –ö–æ–º–∞–Ω–¥–Ω—ã–π –∞—Å—Å–µ—Å–º–µ–Ω—Ç: 2-4 –∏–≥—Ä–æ–∫–∞, –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
7. –û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã = —Å—Ä–µ–¥–Ω–µ–µ score –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
8. –ù–∞–≥—Ä–∞–¥—ã: winner –¥—É—ç–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å respect, loser ‚Äî —É—Ç–µ—à–∏—Ç–µ–ª—å–Ω—ã–π stress -5

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –î—É—ç–ª—å –∑–Ω–∞–Ω–∏–π (1v1)

**–°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ (`server/multiplayer.ts`):**

```typescript
interface DuelSession {
  id: string
  player1: string
  player2: string
  domainId: string
  currentQuestion: AssessmentQuestion
  round: number
  maxRounds: number
  answers: Record<string, { choiceId: string; timestamp: number }>
  scores: Record<string, number>
  status: 'waiting' | 'active' | 'finished'
}

// Events:
'duel:invite'    ‚Äî –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –¥—É—ç–ª—å
'duel:accept'    ‚Äî –ø—Ä–∏–Ω—è—Ç–∏–µ
'duel:decline'   ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
'duel:question'  ‚Äî –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å (–æ–±–æ–∏–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
'duel:answer'    ‚Äî –æ—Ç–≤–µ—Ç –∏–≥—Ä–æ–∫–∞
'duel:roundResult' ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—É–Ω–¥–∞
'duel:finished'  ‚Äî –∏—Ç–æ–≥ –¥—É—ç–ª–∏
```

**Flow:**
1. Player1 –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –∞–≤–∞—Ç–∞—Ä Player2 ‚Üí "–í—ã–∑–≤–∞—Ç—å –Ω–∞ –¥—É—ç–ª—å"
2. Player2 –ø–æ–ª—É—á–∞–µ—Ç popup: "Player1 –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥—É—ç–ª—å –ø–æ ML! [–ü—Ä–∏–Ω—è—Ç—å] [–û—Ç–∫–ª–æ–Ω–∏—Ç—å]"
3. –ü—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ ‚Äî —Å–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞—ë—Ç DuelSession
4. –°–µ—Ä–≤–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –≤–æ–ø—Ä–æ—Å ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–æ–∏–º
5. –ö–∞–∂–¥—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç –æ—Ç–≤–µ—Ç ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
6. –ö–æ–≥–¥–∞ –æ–±–∞ –æ—Ç–≤–µ—Ç–∏–ª–∏ (–∏–ª–∏ —Ç–∞–π–º–∞—É—Ç 30—Å) ‚Äî —Å–µ—Ä–≤–µ—Ä —Å—á–∏—Ç–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   - Base score = choice.score
   - Time bonus = max(0, (30 - responseTime) * 2)
   - Total = base + timeBonus
7. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—É–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–±–æ–∏–º
8. –°–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ ‚Üí repeat
9. –ü–æ—Å–ª–µ 5 —Ä–∞—É–Ω–¥–æ–≤ ‚Äî –∏—Ç–æ–≥–æ–≤—ã–π —ç–∫—Ä–∞–Ω

**UI –¥—É—ç–ª–∏:**
```
+-------------------------------------------+
|  ‚öî –î–£–≠–õ–¨: ML Fundamentals   –†–∞—É–Ω–¥ 3/5    |
+-------------------------------------------+
|  Player1: 280     vs     Player2: 310     |
+-------------------------------------------+
|                                            |
|  "–ú–æ–¥–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 99% accuracy          |
|   –Ω–∞ —Ç—Ä–µ–π–Ω–µ –∏ 62% –Ω–∞ —Ç–µ—Å—Ç–µ..."           |
|                                            |
|  [A] –î–µ–ø–ª–æ–∏—Ç—å                             |
|  [B] –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ, —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è          |
|  [C] Cross-validation, –ø–æ—Ç–æ–º —Ä–µ—à–∞—Ç—å       |
|  [D] –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö                  |
|                                            |
|  ‚è± 0:22                                   |
+-------------------------------------------+
```

–ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –æ–±–æ–∏—Ö:
```
+-------------------------------------------+
|  –†–∞—É–Ω–¥ 3: –†–µ–∑—É–ª—å—Ç–∞—Ç                        |
|                                            |
|  Player1: –≤—ã–±—Ä–∞–ª [C] ‚Äî 100 + 16 (–≤—Ä–µ–º—è)   |
|  Player2: –≤—ã–±—Ä–∞–ª [B] ‚Äî 80 + 22 (–≤—Ä–µ–º—è)    |
|                                            |
|  Player1 –ø–æ–±–µ–∂–¥–∞–µ—Ç –≤ —Ä–∞—É–Ω–¥–µ! üéâ            |
|                                            |
|  –û–±—â–∏–π —Å—á—ë—Ç: 396 vs 412                   |
|                                            |
|             [–°–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ ‚Üí]            |
+-------------------------------------------+
```

### –ö–æ–º–∞–Ω–¥–Ω—ã–π –∞—Å—Å–µ—Å–º–µ–Ω—Ç (2-4 –∏–≥—Ä–æ–∫–∞)

**Flow:**
1. –°–æ–∑–¥–∞—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç –∏–≥—Ä–æ–∫–æ–≤
2. –ö–∞–∂–¥–æ–º—É –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –¥–æ–º–µ–Ω (–∏–ª–∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–∞–º)
3. –í—Å–µ –æ—Ç–≤–µ—á–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã (5 –≤–æ–ø—Ä–æ—Å–æ–≤ –∫–∞–∂–¥—ã–π)
4. –û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç = —Å—Ä–µ–¥–Ω–µ–µ –≤—Å–µ—Ö scores
5. –ë–æ–Ω—É—Å –∑–∞ —Å–∏–Ω–µ—Ä–≥–∏—é: –µ—Å–ª–∏ –≤—Å–µ > 70 ‚Üí –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π respect

**–°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
```typescript
interface TeamSession {
  id: string
  players: string[]
  domainAssignment: Record<string, string>  // playerId ‚Üí domainId
  status: 'forming' | 'active' | 'finished'
  results: Record<string, SessionResult>
  teamScore: number
}
```

### –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –¥—É—ç–ª–∏/–∫–æ–º–∞–Ω–¥—ã

**–ß–µ—Ä–µ–∑ –∞–≤–∞—Ç–∞—Ä:** –∫–ª–∏–∫ –Ω–∞ –¥—Ä—É–≥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é:
- "–í—ã–∑–≤–∞—Ç—å –Ω–∞ –¥—É—ç–ª—å"
- "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤ –∫–æ–º–∞–Ω–¥—É"
- "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"

**–ß–µ—Ä–µ–∑ —á–∞—Ç:** –∫–æ–º–∞–Ω–¥–∞ `/duel @player domainId`

### –ù–∞–≥—Ä–∞–¥—ã

**–î—É—ç–ª—å:**
- Winner: respect +5, stress -3
- Loser: respect +1, stress -5 (—É—Ç–µ—à–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–∑ ‚Äî —Å—Ç—Ä–µ—Å—Å —Å–Ω–∏–º–∞–µ—Ç—Å—è)
- Draw: respect +3 –æ–±–æ–∏–º

**–ö–æ–º–∞–Ω–¥–Ω—ã–π:**
- Team score >= 80: respect +5 –≤—Å–µ–º, stress -5
- Team score 50-79: respect +3, stress -3
- Team score < 50: stress -2 (—Ö–æ—Ç—è –±—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å)

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (—Å–≤—è–∑—å —Å 029)

- "–î—É—ç–ª—è–Ω—Ç" ‚Äî –≤—ã–∏–≥—Ä–∞–ª –ø–µ—Ä–≤—É—é –¥—É—ç–ª—å
- "–ß–µ–º–ø–∏–æ–Ω" ‚Äî –≤—ã–∏–≥—Ä–∞–ª 10 –¥—É—ç–ª–µ–π
- "–ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–≥—Ä–æ–∫" ‚Äî –ø—Ä–æ—à—ë–ª –∫–æ–º–∞–Ω–¥–Ω—ã–π –∞—Å—Å–µ—Å–º–µ–Ω—Ç
- "Dream Team" (hidden) ‚Äî –∫–æ–º–∞–Ω–¥–∞ –∏–∑ 4 —á–µ–ª–æ–≤–µ–∫, –≤—Å–µ > 90

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- 020-multiplayer-infrastructure (WebSocket)
- 010-assessment-manager (–≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ü–µ–Ω–∫–∞)
- 009-competency-matrix-types (–¥–∞–Ω–Ω—ã–µ)
- 021-chat-system (–¥–ª—è –∫–æ–º–∞–Ω–¥/–∏–Ω–≤–∞–π—Ç–æ–≤)

## –û—Ü–µ–Ω–∫–∞
- Story Points: 13
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Low

## –ú–µ—Ç–∫–∏
- `feature`, `gameplay`

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å:
- 031a: –î—É—ç–ª—å (1v1) ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è + –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å
- 031b: –ö–æ–º–∞–Ω–¥–Ω—ã–π –∞—Å—Å–µ—Å–º–µ–Ω—Ç ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è + –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å
