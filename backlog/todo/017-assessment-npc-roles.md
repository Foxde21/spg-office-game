# NPC-ассессоры — специализация существующих NPC

## Описание
Настроить существующих NPC как специализированных ассессоров по определённым доменам AI-матрицы. Петя Сеньор проводит ассесменты по ML/DL/Data, Маша QA — по MLOps и тестированию моделей, Ольга Продакт — по System Design (бизнес-аспекты). Каждый NPC проводит ассесменты в своём стиле общения и со своим уникальным фидбеком.

## Definition of Ready (DOR)
- [x] Задача четко сформулирована
- [x] Определены критерии приемки
- [x] Оценена сложность (Story Points)
- [x] Нет блокирующих зависимостей
- [x] Определены необходимые ресурсы/ассеты

## Definition of Done (DOD)
- [ ] Код написан и работает
- [ ] Код соответствует стайлгайду
- [ ] Функционал протестирован вручную
- [ ] Нет консольных ошибок
- [ ] Документация обновлена (если требуется)
- [ ] Код прошел ревью (если требуется)

## Критерии приемки
1. Петя Сеньор проводит ассесменты по: ml-fundamentals, data-engineering, deep-learning
2. Маша QA проводит ассесменты по: mlops (тестирование, мониторинг, CI/CD)
3. Ольга Продакт проводит ассесменты по: system-design (бизнес-контекст)
4. Профессор Нейронов проводит ассесменты по: nlp-llms, computer-vision, ai-ethics
5. Каждый NPC имеет уникальные ассесмент-диалоги (приветствие, выбор домена, завершение)
6. NPC доступны для ассесмента только после выбора AI-ветки
7. У NPC есть condition-диалоги в зависимости от AI-грейда игрока
8. NPC реагируют на прогресс игрока ("Ты растёшь!" / "Нужно подтянуть ML")

## Технические детали

### Маппинг NPC → Домены

```typescript
export const NPC_ASSESSMENT_DOMAINS: Record<string, CompetencyDomainId[]> = {
  'petya-senior': ['ml-fundamentals', 'data-engineering', 'deep-learning'],
  'masha-qa': ['mlops'],
  'olga-product': ['system-design'],
  'professor-neuronov': ['nlp-llms', 'computer-vision', 'ai-ethics']
}
```

Этот маппинг размещается в `src/data/competencyMatrix.ts` или отдельном файле `src/data/npcAssessments.ts`.

### Диалоги для каждого NPC-ассессора

**Петя Сеньор** (саркастичный ментор):

Приглашение к ассесменту (condition: aiPathUnlocked AND NOT в процессе сессии):
```
Петя: "Ну что, AI-гений, готов показать, что чему-то научился?"
  > "Давай, проверяй!"
    → "По какой теме?" → выбор домена
  > "Не сейчас"
    → "Ладно. Когда передумаешь — я тут буду. Кофе пить."
```

Завершение сессии:
```
score >= 80: "Ну... Неплохо. Даже я впечатлён. Почти."
score 50-79: "Средне. Не позорно, но и хвастаться нечем."
score < 50: "Хм. Ладно, бывает. Почитай документацию и приходи снова."
```

Реакция на грейд:
```
AI Junior: "Джуниор в AI — это нормально. Все с чего-то начинали."
AI Middle: "О, мидл. Уже можно доверить что-то серьёзное."
AI Senior: "Сеньор по AI? Уважаю. Скоро будешь знать больше меня... Шучу."
AI Architect: "Архитектор... *вздыхает* Они так быстро растут."
```

---

**Маша QA** (дотошная, заботится о качестве):

Приглашение:
```
Маша: "Привет! Слышала, ты в AI теперь? А ты знаешь, как модели тестируют?
       И как мониторить в проде? Давай проверим."
  > "Давай, по MLOps"
    → startAssessment: mlops
  > "Может позже"
    → "Ок, но помни — нетестированная модель — это баг, который ещё не нашли."
```

Завершение:
```
score >= 80: "Приятно работать с человеком, который понимает качество!"
score 50-79: "Нормально, но есть пробелы. А пробелы в MLOps — это инциденты в проде."
score < 50: "Ой... Тебе бы почитать про мониторинг. Я серьёзно."
```

---

**Ольга Продакт** (энергичная, бизнес-фокус):

Приглашение:
```
Ольга: "Хей! AI-системы это круто, но они должны приносить value бизнесу.
        Давай проверим, как у тебя с проектированием AI-решений?"
  > "Давай, по System Design"
    → startAssessment: system-design
  > "Сейчас не готов"
    → "Ок, синканёмся позже! Но помни — без бизнес-value AI бесполезен."
```

Завершение:
```
score >= 80: "Вау! С тобой можно идти на стейкхолдеров. You get it!"
score 50-79: "Неплохо, но нужно больше думать о бизнес-контексте, а не только о технике."
score < 50: "Хм, кажется ты думаешь как инженер, а не как архитектор. Давай подтянем!"
```

---

**Профессор Нейронов** (академичный, глубокий):

Приглашение:
```
Профессор: "А, ты снова здесь! Замечательно. 
            Сегодня можем поговорить о чём-то действительно интересном..."
  > "NLP и языковые модели" → startAssessment: nlp-llms
  > "Компьютерное зрение" → startAssessment: computer-vision
  > "Этика и безопасность AI" → startAssessment: ai-ethics
  > "В другой раз, Профессор"
    → "Конечно, конечно... *рассеянно смотрит в монитор* ...кстати, 
        ты знал, что attention is all you need?"
```

Завершение:
```
score >= 80: "Прекрасно! Ты начинаешь мыслить как настоящий исследователь."
score 50-79: "Интересно... Потенциал есть, но нужно копать глубже. Вот, почитай эту статью..."
score < 50: "Хм, fundamentals нужно подтянуть. Но не расстраивайся — 
             Эйнштейн тоже не сразу понял квантовую механику. Ну... он-то понял потом."
```

### Условия доступности ассесментов по NPC

- **Петя Сеньор**: доступен сразу после выбора AI-пути (в Open Space)
- **Маша QA**: доступна после score >= 30 в любом домене (в Open Space / Meeting Room)
- **Ольга Продакт**: доступна после score >= 50 в 3+ доменах
- **Профессор Нейронов**: доступен в AI Lab, condition: AI-грейд >= AI Middle

### Реактивные реплики NPC (вне ассесмента)

NPC должны реагировать на прогресс игрока в обычных диалогах:
- Тим Лид: "Слышал, ты AI изучаешь? Молодец, это перспективно."
- Анна HR: "Кстати, у нас есть бюджет на курсы по AI. Если нужно — скажи."
- Игорь Аналитик: "А можешь объяснить, как эта ваша нейросеть решения принимает?" (намёк на explainability)

## Зависимости
- 005-more-npcs-dialogues (NPC должны быть в игре)
- 009-competency-matrix-types
- 010-assessment-manager
- 011-ai-career-branch
- 012-assessment-dialogues
- 015-ai-lab-location (для Профессора Нейронова)

## Оценка
- Story Points: 8
- Приоритет: Medium

## Метки
- `feature`, `gameplay`
